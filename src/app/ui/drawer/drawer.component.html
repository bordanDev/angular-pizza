<ng-template #drawer>

  <div class="wrapper">

    <div class="f-hor drawer-header">
      <p><b>{{ drawerPizza().length }} pizza</b> in your Card</p>
      <div class="drawer-header--close" (click)="closeDrawer()">
        <app-icon [name]="'x'" [size]="IconSize.md"></app-icon>
      </div>
    </div>
    @for (pizza of drawerPizza(); track pizza) {
    <div class="drawer-pizza--card">
      <img class="card-image" [src]="pizza.imgUrl" [alt]="pizza.title">
      <div class="card-info">
        <p class="card-info--title">{{ pizza.title }}</p>
        <p class="card-info--ingredients">{{ pizza.ingredients }}</p>
        <div style="display: flex; width: 100%; height: 1px; background-color: #F6F6F6;"></div>
        <div style="display: flex; justify-content: space-between">
          <p>Inc/Dec</p>
          <p class="card-info--price">${{ pizza.price }}</p>
        </div>
      </div>
    </div>
  }
  </div>
</ng-template>

@if(drawerPizza()){
  <ng-container *ngTemplateOutlet="drawer"></ng-container>
}
@else{
  <ng-container *ngTemplateOutlet="drawerEmpty"></ng-container>
}

<ng-template #drawerEmpty>
<div class="wrapper drawer-empty">
    <img src="/assets/images/cart_empty.png" style="display: block; width: 120px; aspect-ratio: 1/1" alt="">
  <div class="drawer-empty--text"><p>Card is empty</p>
    <span>Add some pizza into this list to make your order</span></div>
    <app-button [variant]="'primary'" iconPosition="left" [text]="'Close order list'">
      <app-icon [name]="'arrow-left'" [size]="IconSize.md"></app-icon>
    </app-button>
</div>
</ng-template>

@if(drawerPizza()){
  <div class="drawer-submit" style="border-top: 1px solid #EDEDED;">
    <div class="drawer-submit--price"><span>Total</span><span>${{ totalPrice }}</span></div>
    <app-button [isFilled]="true" [text]="'Move to Payment'"></app-button>
  </div>
}
